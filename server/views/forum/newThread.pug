extends ../layout

block styles
  link(rel='stylesheet', href='/stylesheets/forum/new-thread.css')

block scripts
  script(src='/js/new-thread.js')

block currentPageCategory
  -var selected = 'forums';

block navigationMenu
  li
    a(href='/forums/') Forums
  li
    a(href='/forums/' + forum.internalName + '/') #{forum.name}
  li.active New thread

block logotext
  | #{forum.name}

block content
  h2 New thread
  div.container-fluid.thread-container
    div.sidebar.thread-left-part
      div.avatar.thread-avatar
        if user.avatar.length > 3
          img(src="/img/avatars/users/" + user.avatar)
        else
          img(src="/img/avatars/default.png")
      div.thread-author-container
        div.thread-author-name= user.username
        div.thread-author-title(class=(user.role === 'admin' ? "admin" : ""))= user.role.capitalize()
        div.thread-author-posts= (user.posts ? user.posts.length : 0) + ' posts'
    div.thread-right-part.container-fluid
      div.row.new-thread-content
        form(action='/forums/' + forum.internalName + '/new-thread', method='post')
          div.form-group.has-feedback.has-feedback-left
            span.glyphicon.glyphicon-pencil.form-control-feedback
            input(type='text', maxlength="80", placeholder='Thread name', name='title')#new-thread-name.form-control
          div.form-group
            textarea(name='content', maxlength="5000")#new-thread-content.form-control
            small.form-text.text-muted Minimum length: 
              span#content-min-length
          div.form-group
            button(disabled).btn.btn-create-thread.pull-right#new-thread-button CREATE THREAD
